# A bootable image suitable for isolinux CD images.

TARGET = $(INITRD) $(KERNEL) $(DEBIAN_CD_INFO) $(DEPTHCHARGE)

MANIFEST-KERNEL = "kernel for use with isolinux to build a CD"
MANIFEST-INITRD = "initrd for use with isolinux to build a CD"
MANIFEST-DEBIAN_CD_INFO = "isolinux config files for CD"
MANIFEST-DEPTHCHARGE = "Disk/partition images for ChromeOS devices to build a CD"

TYPE = cdrom/isolinux

# Add the gtk images on to the isolinux info.
INITRD_GTK = dest/cdrom/gtk/initrd.gz

EXTRATARGETS = build_cdrom_gtk

# Compress harder to fit depthcharge image into 32MiB for pre-2019 Chromebooks
define xz
  xz -T0 --check=crc32 -9
endef
